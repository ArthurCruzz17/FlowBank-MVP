-- Script de Criação do Banco de Dados - FlowBank
-- Compatível com MySQL / PostgreSQL / H2

-- Tabela de Usuários (Microsserviço Auth)
CREATE TABLE usuario (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome_completo VARCHAR(255),
    password VARCHAR(255),
    username VARCHAR(255) UNIQUE
);

-- Tabela de Contas (Microsserviço Account)
CREATE TABLE conta (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    saldo DOUBLE,
    usuario_username VARCHAR(255)
);

-- Tabela de Extrato (Relacionada com Conta)
CREATE TABLE conta_extrato (
    conta_id BIGINT,
    extrato VARCHAR(255),
    FOREIGN KEY (conta_id) REFERENCES conta(id)
);

-- Carga Inicial de Dados (Para testes)
INSERT INTO usuario (username, password, nome_completo) VALUES ('admin', '123456', 'Administrador');
INSERT INTO conta (usuario_username, saldo) VALUES ('admin', 1500.00);